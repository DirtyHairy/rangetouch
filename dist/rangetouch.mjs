function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function addCSS(e,t){var n,a=document.getElementById("rangetouch");if(a&&"style"===a.nodeName.toLowerCase())n=a.sheet;else{var r=document.createElement("style");r.id="rangetouch",r.appendChild(document.createTextNode("")),document.head.appendChild(r),n=r.sheet}n.insertRule("".concat(e," { ").concat(t," }"),0)}function matches(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function trigger(e,t){if(e&&t){var n=new Event(t);e.dispatchEvent(n)}}function getDecimalPlaces(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function round(e,t){if(1>t){var n=getDecimalPlaces(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var RangeTouch=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'[type="range"]',n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.selector=t,this.elements=document.querySelectorAll(t),this.config=Object.assign({addCSS:!0,thumbWidth:15,watch:!0},n),this.setup()}return _createClass(e,[{key:"setup",value:function(){var e=this;"ontouchstart"in document.documentElement&&(this.config.addCSS&&addCSS(this.selector,"user-select: none; -webkit-user-select: none; touch-action: manipulation"),["touchstart","touchmove","touchend"].forEach(function(t){document.body.addEventListener(t,function(t){matches(t.target,e.selector)&&e.set(t)},!1)}))}},{key:"get",value:function(e){var t,n=e.target,a=e.changedTouches[0],r=parseFloat(n.getAttribute("min"))||0,o=parseFloat(n.getAttribute("max"))||100,c=parseFloat(n.getAttribute("step"))||1,i=n.getBoundingClientRect(),u=100/i.width*(this.config.thumbWidth/2)/100;return 0>(t=100/i.width*(a.clientX-i.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*u:50<t&&(t+=2*(t-50)*u),r+round(t/100*(o-r),c)}},{key:"set",value:function(e){e.target.disabled||(e.preventDefault(),e.target.value=this.get(e),trigger(e.target,"touchend"===e.type?"change":"input"))}}]),e}();export default RangeTouch;