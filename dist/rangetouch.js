!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RangeTouch",t):e.RangeTouch=t()}(this,function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(e,t){return!!(e&&t&&e instanceof t)},n=function(e){return t(e,Event)};function o(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}return function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'[type="range"]',n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.selector=e,this.elements=document.querySelectorAll(e),this.config=Object.assign({addCSS:!0,thumbWidth:15,watch:!0},n),this.setup()}return r=t,(u=[{key:"setup",value:function(){var e=this;"ontouchstart"in document.documentElement&&(this.config.addCSS&&function(e,t){var n,o=document.getElementById("rangetouch");if(o&&"style"===o.nodeName.toLowerCase())n=o.sheet;else{var r=document.createElement("style");r.id="rangetouch",r.appendChild(document.createTextNode("")),document.head.appendChild(r),n=r.sheet}n.insertRule("".concat(e," { ").concat(t," }"),0)}(this.selector,"user-select: none; -webkit-user-select: none; touch-action: manipulation"),["touchstart","touchmove","touchend"].forEach(function(t){document.addEventListener(t,function(t){(function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)})(t.target,e.selector)&&e.set(t)},!1)}))}},{key:"get",value:function(e){if(!n(e))return null;var t,r=e.target,u=e.changedTouches[0],a=parseFloat(r.getAttribute("min"))||0,i=parseFloat(r.getAttribute("max"))||100,c=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),s=100/l.width*(this.config.thumbWidth/2)/100;return 0>(t=100/l.width*(u.clientX-l.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*s:50<t&&(t+=2*(t-50)*s),a+o(t/100*(i-a),c)}},{key:"set",value:function(e){!n(e)||e.target.disabled||(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var n=new Event(t);e.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}])&&e(r.prototype,u),a&&e(r,a),t;var r,u,a}()});